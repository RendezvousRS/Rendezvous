# 用户交互————输入和输出

```
scanf("%d",&a);
printf("blabla");
getchar
putchar
gets
fgets
puts
fputs
fopen
fclose

```

# 格式说明符

我用**两套表格**来整理，一套全英文，一套全中文。
结构都是：

1. “基本格式说明符”（不含长度修饰符）
2. “长度修饰符”（说明 `%hd/%ld/%lld` 这类是怎么变类型的）

---

## 🧾 English version

### 1. Basic conversion specifiers (no length modifiers)

| Specifier | `printf` argument type       | `scanf` argument type       | Meaning / Notes                                |
| --------- | ---------------------------- | --------------------------- | ---------------------------------------------- |
| `%d`      | `int`                        | `int *`                     | signed decimal integer                         |
| `%i`      | `int`                        | `int *`                     | signed integer (base auto-detected in `scanf`) |
| `%u`      | `unsigned int`               | `unsigned int *`            | unsigned decimal integer                       |
| `%o`      | `unsigned int`               | `unsigned int *`            | unsigned octal integer                         |
| `%x`      | `unsigned int`               | `unsigned int *`            | unsigned hexadecimal integer (lowercase)       |
| `%X`      | `unsigned int`               | `unsigned int *`            | unsigned hexadecimal integer (uppercase)       |
| `%f`      | `double`                     | `float *`                   | fixed-point decimal floating                   |
| `%F`      | `double`                     | `float *`                   | same as `%f` (C99)                             |
| `%e`      | `double`                     | `float *`                   | scientific notation                            |
| `%E`      | `double`                     | `float *`                   | scientific notation (uppercase `E`)            |
| `%g`      | `double`                     | `float *`                   | `%f` or `%e` (shortest)                        |
| `%G`      | `double`                     | `float *`                   | `%F` or `%E` (shortest)                        |
| `%a`      | `double`                     | `float *`                   | hexadecimal floating (C99)                     |
| `%A`      | `double`                     | `float *`                   | hexadecimal floating (uppercase, C99)          |
| `%c`      | `int` (promoted from `char`) | `char *`                    | single character                               |
| `%s`      | `char *`                     | `char *`                    | C string (null-terminated)                     |
| `%p`      | `void *`                     | `void **`                   | pointer value                                  |
| `%n`      | `int *` (or with modifiers)  | `int *` (or with modifiers) | store number of characters processed so far    |
| `%%`      | *(no argument)*              | *(not used in `scanf`)*     | prints a literal `%`                           |

> For `scanf`, all the above types are **pointer types** because data is written into variables.

---

### 2. Length modifiers (for integers / some others)

这些不是独立的说明符，而是和上面表里的 `d/i/u/o/x/X` 等组合使用，比如：`%hd`, `%lld`, `%ju`……

| Length modifier | Typical use                       | Signed integer type (with `d/i`) | Unsigned type (with `u/o/x/X`) | Other notes                             |
| --------------- | --------------------------------- | -------------------------------- | ------------------------------ | --------------------------------------- |
| *(none)*        | `%d`, `%u`, …                     | `int`                            | `unsigned int`                 | default                                 |
| `h`             | `%hd`, `%hu`, `%hx`, …            | `short`                          | `unsigned short`               | “short” integer                         |
| `hh`            | `%hhd`, `%hhu`, …                 | `signed char`                    | `unsigned char`                | for 8-bit / `char`-sized                |
| `l`             | `%ld`, `%li`, `%lu`, `%lx`, …     | `long`                           | `unsigned long`                | also used as `%lc`, `%ls` for wide char |
| `ll`            | `%lld`, `%lli`, `%llu`, `%llx`, … | `long long`                      | `unsigned long long`           | 64-bit on most platforms                |
| `j`             | `%jd`, `%ju`, …                   | `intmax_t`                       | `uintmax_t`                    | largest integer type                    |
| `z`             | `%zd`, `%zu`, …                   | `ssize_t` (or signed size type)  | `size_t`                       | for sizes (e.g. `sizeof` results)       |
| `t`             | `%td`, `%tu`, …                   | `ptrdiff_t`                      | *(implementation-defined)*     | difference between pointers             |
| `L`             | `%Lf`, `%Le`, `%Lg`, `%La`        | –                                | –                              | used with `long double` floating-point  |

Additional for characters/strings:

| Combination | `printf` argument type | `scanf` argument type | Meaning                       |
| ----------- | ---------------------- | --------------------- | ----------------------------- |
| `%lc`       | `wint_t`               | `wchar_t *`           | wide character                |
| `%ls`       | `wchar_t *`            | `wchar_t *`           | wide string (`wchar_t`-based) |

---

## 🧾 中文版

### 1. 基本格式说明符（不带长度修饰符）

| 格式说明符 | `printf` 实参类型        | `scanf` 实参类型     | 含义 / 说明                 |
| ----- | -------------------- | ---------------- | ----------------------- |
| `%d`  | `int`                | `int *`          | 有符号十进制整数                |
| `%i`  | `int`                | `int *`          | 有符号整数（`scanf` 中可自动判进制）  |
| `%u`  | `unsigned int`       | `unsigned int *` | 无符号十进制整数                |
| `%o`  | `unsigned int`       | `unsigned int *` | 无符号八进制整数                |
| `%x`  | `unsigned int`       | `unsigned int *` | 无符号十六进制整数（小写 a–f）       |
| `%X`  | `unsigned int`       | `unsigned int *` | 无符号十六进制整数（大写 A–F）       |
| `%f`  | `double`             | `float *`        | 十进制定点浮点数                |
| `%F`  | `double`             | `float *`        | 同 `%f`（C99）             |
| `%e`  | `double`             | `float *`        | 科学计数法浮点数                |
| `%E`  | `double`             | `float *`        | 科学计数法浮点数（大写 `E`）        |
| `%g`  | `double`             | `float *`        | 在 `%f` 和 `%e` 之间自动选更短格式 |
| `%G`  | `double`             | `float *`        | 在 `%F` 和 `%E` 之间自动选更短格式 |
| `%a`  | `double`             | `float *`        | 十六进制浮点数表示（C99）          |
| `%A`  | `double`             | `float *`        | 十六进制浮点数（大写，C99）         |
| `%c`  | `int`（由 `char` 提升而来） | `char *`         | 单个字符                    |
| `%s`  | `char *`             | `char *`         | C 风格字符串（以 `\0` 结尾）      |
| `%p`  | `void *`             | `void **`        | 指针值                     |
| `%n`  | `int *`（或带修饰符的指针）    | `int *`（或带修饰符）   | 把目前已读/已写字符数存入变量         |
| `%%`  | *不需要实参*              | *`scanf` 中一般不用*  | 输出一个字面量 `%`             |

> 注意：在 `scanf` 中，所有类型都是**指针类型**，因为要把读入的数据写到变量里。

---

### 2. 长度修饰符（主要配合整数 / 浮点）

同样，这些是加在 `%d/%u/%x` 之前的“前缀”，比如 `%hd`, `%lld`, `%zu` 等。

| 长度修饰符   | 典型写法示例                       | 对应有符号整数类型（配 `d/i`）         | 对应无符号类型（配 `u/o/x/X`） | 说明                     |
| ------- | ---------------------------- | -------------------------- | -------------------- | ---------------------- |
| *(无修饰)* | `%d`, `%u`, `%x` 等           | `int`                      | `unsigned int`       | 默认整数类型                 |
| `h`     | `%hd`, `%hu`, `%hx` 等        | `short`                    | `unsigned short`     | 短整型                    |
| `hh`    | `%hhd`, `%hhu` 等             | `signed char`              | `unsigned char`      | 字节 / `char` 大小的整数      |
| `l`     | `%ld`, `%li`, `%lu`, `%lx` 等 | `long`                     | `unsigned long`      | 长整型；也用于 `%lc`, `%ls`   |
| `ll`    | `%lld`, `%lli`, `%llu` 等     | `long long`                | `unsigned long long` | 更长的整型（多数平台 64 位）       |
| `j`     | `%jd`, `%ju` 等               | `intmax_t`                 | `uintmax_t`          | “能表示的最大宽度”的整数          |
| `z`     | `%zd`, `%zu` 等               | “有符号 size 类型”（如 `ssize_t`） | `size_t`             | 专门拿来配合 `sizeof` 一类的大小  |
| `t`     | `%td`, `%tu` 等               | `ptrdiff_t`                | *(实现相关)*             | 两个指针相减得到的差值类型          |
| `L`     | `%Lf`, `%Le`, `%Lg`, `%La`   | –                          | –                    | `long double` 浮点数用的修饰符 |

字符 / 宽字符相关：

| 组合写法  | `printf` 实参类型 | `scanf` 实参类型 | 含义               |
| ----- | ------------- | ------------ | ---------------- |
| `%lc` | `wint_t`      | `wchar_t *`  | 宽字符（宽字符版的 `%c`）  |
| `%ls` | `wchar_t *`   | `wchar_t *`  | 宽字符串（宽字符版的 `%s`） |

---

> 下一步可以将**我常用的几种**（比如 `%d/%f/%lf/%c/%s`）
