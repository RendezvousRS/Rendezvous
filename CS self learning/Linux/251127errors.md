# 解决了基本指令执行后，该机后续还需涉及DNS等修复，操作量庞大，遂当做故障机练习用。

# 问题描述

## 2025/11/27 1:00左右

VMWare环境下CentOS Stream 10中安装[CentOS服务网站](https://www.server-world.info/en/note?os=CentOS_Stream_10&p=download)指示的Python 13 ,PyCharm 25.2.0.1 ,firewall,network settings。

安装PyCharm时，手动设置了PATH路径：/home/rendezous/vv/download/PyCharm25.2.0.1/bin   

但是运行PyCharm时，界面出现乱码，遂欲卸载。但没有直接卸载方式，只能删除目录文件（文件本身），但PATH路径依然存在。

## 25/11/27 18:30左右

打开CentOS时，输入密码无法进入。

# 修复流程

尝试登录时长按shift，无果。

在登录界面按ctrl+alt+F3进入login界面。确实，超级用户密码正确。

登入root，发现ls、fd、su等指令无法使用。

此处插入图片





# 修复代码分析

```
command -v dnf

dnf install -y coreutils systemd

df -h
systemctl get-default

df -h
systemctl get-default

echo $PATH
/root/.local/bin:/root/bin:PATH:/home/rendezvous/uu/download/pycharm-2025.2.4/bin

export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin %% 初始化环境变量
hash -r

systemctl --version %% 更改系统视图

command -v dnf
dnf reinstall -y coreutils bash systemd systemd-udev util-linux passwd sudo
```


<img width="1081" height="549" alt="屏幕截图 2025-11-27 194129" src="https://github.com/user-attachments/assets/6185ff94-a6a2-4063-8130-da40bec18035" />

<img width="1155" height="648" alt="屏幕截图 2025-11-27 184758" src="https://github.com/user-attachments/assets/177bef01-6ecc-4588-b5ab-abaf0cbad6dd" />

<img width="1915" height="920" alt="屏幕截图 2025-11-27 190156" src="https://github.com/user-attachments/assets/87a8e182-ff49-47e1-8951-eaf2f4b82aaf" />




















